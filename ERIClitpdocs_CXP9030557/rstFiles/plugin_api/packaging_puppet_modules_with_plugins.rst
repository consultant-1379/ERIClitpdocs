.. |external| raw:: html

   <img alt="external" src="../_static/external_link_icon.svg">

.. _packaging-puppet-modules-with-plugins:

=====================================
Packaging Puppet Modules with Plugins
=====================================

The tasks generated by LITP plugins often rely on the Configuration Manager
(`Puppet <http://docs.puppetlabs.com/>`_ |external| ) to affect changes on the peer servers or
management server. This is done by defining one or more Puppet resources for
the Configuration Manager to enforce (see :ref:`config-tasks` below).

Puppet comes with a set of `basic resource types
<http://docs.puppetlabs.com/references/latest/type.html>`_ |external| plugin developers
can use.

If you write your own Puppet code for use by your plugin,
you should add Puppet files (e.g. modules or templates) and a ``README.txt``
file to the ``puppet`` directory in the plugin's directory structure.
All files and directories in the ``puppet`` directory (except the ``README.txt``)
are included in the plugin RPM, and installed in
``/opt/ericsson/nms/litp/etc/puppet/modules``.  This behaviour is triggered by
the existence of the README.txt file; the content of the file is unimportant,
but deleting or renaming the file will mean that files in ``puppet``, including
``mcollective_agents``, are no longer included in the RPM.
